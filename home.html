<?php

?>

<html>
    <head>
        <title>Clipzy</title>
        <link rel="icon" type="image/x-icon" href="img/clipzy.png">
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="light-theme.css" id="theme-stylesheet">
    
        <script>
            src="/feed.js"
            document.addEventListener('DOMContentLoaded', function () {
                // Get the current theme from local storage or use the default 'light'
                var currentTheme = localStorage.getItem('theme') || '<?php echo $theme; ?>';
                var themeStylesheet = document.getElementById('theme-stylesheet');
    
                // Apply the saved theme or default theme
                themeStylesheet.href = currentTheme === 'dark' ? 'dark-theme.css' : 'light-theme.css';
    
                // Function to toggle between dark and light themes
                function toggleTheme() {
                    currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    themeStylesheet.href = currentTheme === 'dark' ? 'dark-theme.css' : 'light-theme.css';
                    // Save the current theme to local storage or cookies
                    localStorage.setItem('theme', currentTheme);
                    document.cookie = "theme=" + currentTheme + "; path=/";
                }
    
                // Attach the toggleTheme function to a button or any element you want to use for the switch
                document.getElementById('theme-switch').addEventListener('click', toggleTheme);
            });

            document.addEventListener('DOMContentLoaded', function () {
                // Get the navbar element
                var navbar = document.querySelector('.navbar');
    
                // Function to update the width display and show/hide text
                function updateWidthDisplay() {
                    // Get the current width of the navbar
                    var navbarWidth = parseFloat(window.getComputedStyle(navbar).width);
    
                    // Display the width in the middle of the navbar
                    document.getElementById('widthDisplay').innerText = "Navbar Width: " + navbarWidth + "px";
    
                    // Toggle class to show/hide text based on width
                    if (navbarWidth < 150) {
                        navbar.classList.add('hide-text');
                    } else {
                        navbar.classList.remove('hide-text');
                    }
                }
    
                // Attach the updateWidthDisplay function to the resize event
                window.addEventListener('resize', updateWidthDisplay);
    
                // Initial update of the width display
                updateWidthDisplay();
            });
        </script>
    </head>
<body>
    <div class="top">
        <div class="clipzy-logo">
            <a href="/"><img src="img/clipzy.png" class="clipzy-logo"></a>
        </div>
        <div class="profile">
            <span class="name" id="name"><p></p></span>
            <img class="picture" id="picture" alt="Profile Picture">
        </div>
        <div class="logout">
            <button id="logout" type="submit">Logout</button>
            <button id="theme-switch">Toggle Theme</button>
        </div>
        <div class="center">
            <div class="search-container">
                <input type="text" placeholder="Search...">
                <button type="submit">Search</button>
            </div>
        </div>
    </div>
    <div class="navbar">
        <div>
            <a href="/home"><img src="img/clipzy-home.png" class="clipzy-home"><p>home</p></a>
            <a href="/friends"><img src="img/friends.png" class="clipzy-friends"><p>friends</p></a>
            <a href="/explore"><img src="img/explore.jpg" class="clipzy-explore"><p>explore</p></a>
            <a href="/profile"><img src="img/profile.png" class="clipzy-profile"><p>profile</p></a>
        </div>
    </div>
    <div class="main">
        <div class="video-box">
            <center><iframe src="http://193.122.84.88:3000/feed" width="408px" height="100%" id="video"></iframe></center>
        </div>
        <div class="video-elements">
        </div>
    </div>
    <script src="home.js"></script>
</body>
</html>
